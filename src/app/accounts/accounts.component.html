<div class="cds--grid">
  <div class="cds--row">
    <div class="cds--col-lg-8">
      <h1>Accounts</h1>
      <p>Manage your financial accounts organized by category</p>
    </div>
    <div class="cds--col-lg-4">
      <div class="toggle-controls">
        <button
          cdsButton
          type="button"
          kind="secondary"
          size="sm"
          (click)="toggleAccountNumbers()"
          class="account-toggle-btn">
          <span>{{ showAccountNumbers ? 'üôà Hide' : 'üëÅÔ∏è Show' }} Account Numbers</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Account Categories -->
  <div *ngFor="let category of accountCategories" class="category-section">
    <div class="cds--row">
      <div class="cds--col-lg-12">
        <h2 class="category-title">
          <span class="category-icon">{{ category.icon }}</span>
          {{ category.name }}
        </h2>
      </div>
    </div>

    <div class="cds--row">
      <div class="cds--col-lg-12">
        <div cds-tile class="account-list-tile">
          <div class="account-list">
            <div class="account-item" *ngFor="let account of category.accounts">
              <div class="account-info">
                <div class="account-name">{{ account.name }}</div>
                <div class="account-number">{{ getDisplayAccountNumber(account.accountNumber, account.fullAccountNumber) }}</div>
              </div>
              <div class="account-amount"
                   [ngClass]="{'credit': account.balance < 0, 'positive': account.balance > 0}">
                {{ account.balance | currency:'USD':'symbol':'1.2-2' }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Summary Section -->
  <div class="cds--row summary-section">
    <div class="cds--col-lg-6">
      <div cds-tile>
        <h3>Account Overview</h3>
        <div class="overview-item">
          <span>Total Assets:</span>
          <span class="positive">{{ getTotalAssets() | currency:'USD':'symbol':'1.2-2' }}</span>
        </div>
        <div class="overview-item">
          <span>Total Liabilities:</span>
          <span class="negative">{{ getTotalLiabilities() | currency:'USD':'symbol':'1.2-2' }}</span>
        </div>
        <div class="overview-item total">
          <span>Net Worth:</span>
          <span [ngClass]="{'positive': getNetWorth() > 0, 'negative': getNetWorth() < 0}">
            {{ getNetWorth() | currency:'USD':'symbol':'1.2-2' }}
          </span>
        </div>
      </div>
    </div>

    <div class="cds--col-lg-6">
      <div cds-tile>
        <h3>Quick Actions</h3>
        <div class="action-buttons">
          <button cdsButton type="button" kind="primary">Transfer Money</button>
          <button cdsButton type="button" kind="secondary">Add Account</button>
          <button cdsButton type="button" kind="tertiary">Download Statement</button>
        </div>
      </div>
    </div>
  </div>
</div>
